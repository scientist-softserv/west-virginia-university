<%# OVERRIDE BULKRAX 8 to change accordion to bootstrap 5 %>
<% if item.field_mapping.present? %>
  <div class="accordion accordion-flush" id="field-mapping-show-heading">
    <div class="accordion-item">
      <h2 class="accordion-header">
        <a class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#field-mapping-show" aria-expanded="false" aria-controls="field-mapping-show">
          Field mapping:
        </a>
      </h2>
      <div id="field-mapping-show" class="accordion-collapse collapse"  role="tabpanel" data-bs-parent="#field-mapping-show-heading">
        <div class="accordion-body">
          <div class="bulkrax-nav-tab-bottom-margin">

            <!-- Toggle buttons -->
            <div class="btn-group pull-right" role="group" aria-label="...">
              <button id="full-mappings-tab" type="button" class="btn btn-light active"><a href="#bulkrax-full-toggle-2" aria-controls="bulkrax-full-toggle-2" role="tab" data-toggle="tab">Full</a></button>
              <button id="raw-mappings-tab" type="button" class="btn btn-light"><a href="#bulkrax-raw-toggle-2" aria-controls="bulkrax-raw-toggle-2" role="tab" data-toggle="tab">Raw</a></button>
            </div>
            <!-- Tab panes -->
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane active" id="bulkrax-full-toggle-2">
                <% item.field_mapping.each do |k, v| %>
                  <strong><%= k %>:</strong>
                  <%= coderay(v, { wrap: :page, css: :class, tab_width: 200, break_lines: true }) %>
                  <br />
                <% end %>
              </div>
              <div role="tabpanel" class="tab-pane" id="bulkrax-raw-toggle-2">
                <% item.field_mapping.each do |k, v| %>
                  <%= coderay(v, { css: :class, tab_width: 0, break_lines: false }) %>
                  <br />
                <% end %>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
